## ğŸ”„ æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³å†é–‹ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

å‰å›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§Terraform infrastructure deploymentã®è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚
ç¾åœ¨ã€GitHub Actionsã§ã‚¤ãƒ³ãƒ•ãƒ©ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯æˆåŠŸã—ã¦ã„ã¾ã™ãŒã€
Cloud Runã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•ã«å¤±æ•—ã—ã¦ã„ã‚‹çŠ¶æ³ã§ã™ã€‚

ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã§Cloud Runã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã¾ã›ã‚“ï¼š
ã€ŒThe user-provided container failed the configured startup probe checksã€

ç¾åœ¨ã®çŠ¶æ³ï¼š
âœ… GitHub Actions workflow - å®Œæˆ
âœ… Terraform infrastructure - å®Œæˆ  
âœ… Docker build - æˆåŠŸ
âœ… Secret Manager - è¨­å®šå®Œæˆ
âŒ Cloud Run application startup - å¤±æ•—

Cloud Runã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•å•é¡Œã‚’è§£æ±ºã—ãŸã„ã§ã™ã€‚
ãƒ­ã‚°URL: https://console.cloud.google.com/logs/viewer?project=***&resource=cloud_run_revision

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯Honoãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ãŸNode.js/TypeScriptã‚¢ãƒ—ãƒªã§ã€
ãƒãƒ¼ãƒˆ8080ã§LISTENã™ã‚‹äºˆå®šã§ã™ã€‚

å•é¡Œã®èª¿æŸ»ã¨ä¿®æ­£ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚

## ğŸ“ ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒæƒ…å ±
- ãƒ–ãƒ©ãƒ³ãƒ: `devin/1733825673-consolidated-terraform-infrastructure`
- æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ: `a212c95 - fix: Set secret values before Cloud Run deployment`
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: `/Users/sugiyama/fact-checker-local`

## ğŸ”§ å®Œäº†ã—ãŸä½œæ¥­å†…å®¹

### GitHub Actions Workflow
- terraform-deploy.yml ã®æ®µéšçš„æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Œæˆ
- å®‰å…¨å¼ã‚·ã‚¹ãƒ†ãƒ  (ENABLE_DOCKER_BUILD, ENABLE_TERRAFORM_APPLY) å®Ÿè£…
- Docker Build â†’ Secretè¨­å®š â†’ Terraform Apply ã®é †åºã§å®Ÿè¡Œ
- ãƒªã‚½ãƒ¼ã‚¹ç«¶åˆã‚’é¿ã‘ã‚‹ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†å®Ÿè£…

### Terraform Infrastructure  
- Local State Backendä½¿ç”¨ (Remote State Backendã¯èªè¨¼å•é¡Œã§ä¿ç•™)
- Secret Manager, Cloud Run, Cloud Scheduler ã®è¨­å®šå®Œæˆ
- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¨©é™è¨­å®šå®Œæˆ
- Secretå€¤ã¯3æ®µéšã§è¨­å®š: Secretä½œæˆ â†’ å€¤è¨­å®š â†’ Cloud Runä½œæˆ

### è§£æ±ºã—ãŸå•é¡Œ
- policy submodule ã‚¨ãƒ©ãƒ¼ä¿®æ­£
- Secret Manager naming (hyphen format)
- Cloud Run v2 PORTç’°å¢ƒå¤‰æ•°å‰Šé™¤
- Docker image latest tagä½œæˆ
- Secret Manager Versionæ¨©é™å•é¡Œå›é¿
- ãƒªã‚½ãƒ¼ã‚¹ç«¶åˆ (409ã‚¨ãƒ©ãƒ¼) è§£æ±º

æ¬¡å›ã¯Cloud Runã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ã®å•é¡Œè§£æ±ºã«é›†ä¸­ã—ã¦ãã ã•ã„ã€‚